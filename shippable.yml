language: node_js

env:
  COVERAGE=true

node_js:
   - 0.12

build:
  ci:
    - node --version
    - npm install
    - bower --allow-root install
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage
    - ./node_modules/ember-cli/bin/ember test --reporter=xunit > shippable/testresults/result.xml
  cache: true
  cache_dir_list:
    - $SHIPPABLE_BUILD_DIR/node_modules
