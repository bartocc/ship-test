language: node_js

env:
  CI=true

node_js:
   - 0.12

before_install:
  - node --version

build:
  ci:
    - npm install
    - bower --allow-root install
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage
    - ./node_modules/ember-cli/bin/ember test --reporter=xunit |tail -1 > shippable/testresults/result.xml
  cache: true
  cache_dir_list:
    - $SHIPPABLE_BUILD_DIR/node_modules
